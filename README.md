# 题目链接 PDF 生成工具项目介绍

## 项目概述
本项目包含两个 Python 脚本，主要功能是根据提供的题目链接生成对应的 PDF 文件。第一个脚本 `generate_pdfs` 可以批量处理存储在 `题目链接表.csv` 中的题目链接，生成相应的 PDF 文件；第二个脚本则用于将单个指定的题目链接转换为 PDF 文件。

## 项目功能
### 批量生成 PDF 文件
- 第一个脚本 `generate_pdfs` 会读取 `题目链接表.csv` 文件，逐行获取其中的题目链接。
- 对于每个链接，会根据链接的最后一部分生成对应的 PDF 文件名。
- 在生成 PDF 文件之前，会先检查该文件是否已经存在。如果文件已存在，则跳过该链接，避免重复生成。
- 若生成过程中出现异常，会打印错误信息；若成功生成，会输出成功提示信息。

### 单个链接生成 PDF 文件
- 第二个脚本可以将指定的单个题目链接（如 `https://darkbzoj.cc/problem/4799`）转换为 PDF 文件（如 `pdfkit_test.pdf`）。

## 技术实现
### 依赖库
- **`os`**：用于检查文件是否存在，实现文件的存在性判断逻辑。
- **`pdfkit`**：核心库，负责将网页链接转换为 PDF 文件。
- **`pandas`**：虽然在代码中引入了该库，但当前脚本未实际使用，可根据后续需求扩展功能。

### 配置说明
- 需要配置 `wkhtmltopdf` 的路径，在代码中指定为 `/usr/local/bin/wkhtmltopdf`。这是 `pdfkit` 库依赖的工具，用于实现网页到 PDF 的转换。

## 使用方法
### 批量生成
1. 确保 `wkhtmltopdf` 已安装，并且路径 `/usr/local/bin/wkhtmltopdf` 正确。如果路径不同，需要修改代码中的 `path_wk` 变量。
2. 准备好 `题目链接表.csv` 文件，将需要转换的题目链接逐行写入该文件。
3. 运行第一个脚本，在终端中执行命令：
```bash
python 包含 generate_pdfs 函数的脚本文件名.py
```
4. 脚本会自动遍历 `题目链接表.csv` 中的链接，生成对应的 PDF 文件，并将生成结果输出到控制台。

### 单个链接生成
1. 同样确保 `wkhtmltopdf` 已安装且路径正确。
2. 修改第二个脚本中的 `url` 变量为你需要转换的题目链接，`pdfkit.from_url` 函数的第二个参数为生成的 PDF 文件名。
3. 运行第二个脚本，在终端中执行命令：
```bash
python 包含单个链接转换代码的脚本文件名.py
```
4. 脚本会将指定链接转换为 PDF 文件并保存。

## 注意事项
- **文件路径**：要保证 `题目链接表.csv` 文件与脚本在同一目录下，或者根据实际情况修改脚本中的文件读取路径。
- **网络问题**：生成 PDF 文件依赖于网络连接，如果网络不稳定，可能会导致部分链接转换失败。
- **权限问题**：确保脚本有足够的权限在当前目录下创建和写入 PDF 文件。

## 代码扩展建议
- 可以使用 `pandas` 库对 `题目链接表.csv` 进行更复杂的处理，例如筛选、排序等。
- 可以添加重试机制，当某个链接转换失败时，尝试重新转换一定次数。 
